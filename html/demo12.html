<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title></title>

    <script type="text/javascript">
        /*      this        */
        // 解析器每次调用函数都会向函数内部传递参数this
        // this指向函数执行的上下文对象
        // 根据函数调用方式的不同，this指向的对象也不同

        function f1() {
            console.log(this);
        }

        // 以函数形式调用，this是window
        f1();

        var obj1 = {
            age: 18,
            f1Name: f1,
            f2: function() {
                console.log(this)
            }
        };

        // 以方法形式调用，this是调用方法的对象
        obj1.f1Name();
        obj1.f2();


        /*      使用工厂方法创造对象        */
        // 可以大批量创建对象
        function createPerson(age, gender) {
            var obj = new Object();
            obj.age = age;
            obj.gender = gender;
            return obj;
        }
        var obj1 = createPerson(18, "female");
        var obj2 = createPerson(20, "male");
        console.log(obj1);
        console.log(obj2);


        /*      构造函数        */
        // 区分多种不同类型的Object
        // 构造函数习惯上首字母大写
        // 普通函数直接调用f()，构造函数使用new关键字调用

        /*      构造函数的执行      */
        // 1 在堆中创建新对象 
        // 2 将新建对象设置为函数中的this,使用this引用该对象
        // 3 执行函数中代码 
        // 4 将新建对象返回
        function Person(age) {
            this.age = age;
            this.sayAge = sayAge;
        }

        var p = new Person(20);
        console.log(p);

        function Dog(age) {
            this.age = age;
            this.sayAge = sayAge;
        }

        function sayAge() {
            alert(this.age);
        }

        var d = new Dog(3);
        console.log(d);

        /*      instanceof      */
        // instanceof 判断对象是否是一个类的示例
        console.log(p instanceof Person);
        console.log(d instanceof Dog);
        console.log(p instanceof Object);
        console.log(d instanceof Object);

        p.sayAge();
        d.sayAge();
    </script>


</head>

<body>

</body>

</html>